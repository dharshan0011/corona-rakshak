<!DOCTYPE html>
<html>
    <head>
        <title>Connect BT DEVICES</title> 
         <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0" />
    </head>
    <form>
          <button>Connect BT device</button>
    </form>

<script>
  // var deviceName = 'If want to connect to specific device, specify name'
  function isWebBluetoothEnabled() {
    if (!navigator.bluetooth) {
      // firefox not supported
      console.log('Web Bluetooth API is not available in this browser!')
      return false
    }
    
    return true
  }
  function playvib() {
    navigator.vibrate([500,110,500,110,450,110,200,110,170,40,450,110,200,110,170,40,500]);
    }

  function getDeviceInfo() {
    let options = {
      acceptAllDevices: true // Option to accept all devices
    // to call specific device
    //  "filters": [
    //    { "name": deviceName }
    //  ]
    }

    console.log('Requesting Bluetooth Device...')
    navigator.bluetooth.requestDevice(options).then(device => {
      console.log('> Name: ' + device.name)
    }).catch(error => {
      console.log('Argh! ' + error)
    })
  }
  document.querySelector('form').addEventListener('submit', function(event) {
    event.stopPropagation()
    event.preventDefault()

    if (isWebBluetoothEnabled()) {
      getDeviceInfo();
      playvib();
    }
  })

</script>
</html>